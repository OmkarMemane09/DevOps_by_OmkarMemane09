#  Kubernetes ConfigMap , Secret :

## 1 . ConfigMap

**ConfigMap** is a Kubernetes object for storing **non-confidential configuration data** as key-value pairs. Use ConfigMaps to decouple configuration artifacts (like environment variables or config files) from application container images so you can manage configuration separately and portably[1][4][5][6][7][8][9].

### Key Features
- Stores plain-text (non-sensitive) data
- Useful for environment variables, application settings, or config files
- Can be consumed by pods as environment variables, command-line args, or files in a volume

---

### Example: Creating & Using a ConfigMap

#### 1Ô∏è‚É£ Create a ConfigMap Manifest (`configmap.yml`)
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: my-config
data:
  PASSWORD: "KaliLinux"
  USERNAME: "root"
  CITY: "Pune"
```
---

#### 2Ô∏è‚É£ Apply the ConfigMap
```bash
kubectl apply -f configmap.yml
```
---

#### 3Ô∏è‚É£ View the ConfigMap
```bash
kubectl get configmap my-config -o yaml
```
```bash
kubectl describe configmap my-config
```
---

### Example: Consuming a ConfigMap in a Pod

#### Pod Manifest (`pod.yml`)
```bash
apiVersion: v1
kind: Pod 
metadata:
  name: configmap-pod
  labels:
    app: webserve
spec:
   containers:
    - name: nginx-container
      image: nginx
      ports:
      - containerPort: 80
      env:
      - name: APP_PASSWORD
        valueFrom:
          configMapKeyRef:
            name: my-config
            key: PASSWORD
      - name: APP_USERNAME
        valueFrom:
          configMapKeyRef:
            name: my-config
            key: USERNAME
      - name: APP_CITY
        valueFrom:
          configMapKeyRef:
            name: my-config
            key: CITY   
```

#### Steps
```bash
kubectl apply -f pod.yml
```
```bash
kubectl get pod configmap-pod -o yaml
```
```bash
kubectl describe pod configmap-pod
```
---
## üÜö ConfigMap vs Secret: Key Differences

| Aspect         | ConfigMap                     | Secret                              |
|----------------|------------------------------|--------------------------------------|
| Purpose        | Non-sensitive config         | Sensitive/confidential data          |
| Storage Format | Plain-text                   | base64-encoded, with possible encryption |
| Data Examples  | App settings, config files   | Passwords, tokens, API keys          |
| Security       | Readable by anyone with access| Restricted via RBAC, can be encrypted|
| Pod Usage      | Env vars, files, args        | Env vars, files, args                |
| Typical Names  | `CONFIG_XYZ`, `ENV_ABC`      | `SECRET_KEY`, `PASSWORD`, `TOKEN`    |

---
## 2.Secret

**Secret** is a Kubernetes object for holding **sensitive data**‚Äîsuch as passwords, tokens, and keys‚Äîin a more secure, encoded (base64) format. Secrets allow you to manage sensitive information separately from your container images or Pod specs[1][3][4][5][6][7][9].

### Key Features
- Stores data in base64-encoded strings
- Intended for **confidential** data
- Better access control via RBAC
- Can be encrypted at rest in etcd (Kubernetes backing store)[2][5]
- Consumed by Pods as env variables, files, or arguments

---

### Example: Creating & Using a Secret

#### 1Ô∏è‚É£ Create a Secret Manifest (`secret.yml`)

> Encode values to base64:
> ```
> echo -n 'some-secret-api-key' | base64             # for PASSWORD
> echo -n 'password123' | base64                     # for USERNAME
> ```
```bash
apiVersion: v1
kind: Secret
metadata:
  name: my-secret
data: 
  PASSWORD: c29tZS1zZWNyZXQtYXBpLWtleQ==  
  USERNAME: cGFzc3dvcmQxMjM=           

```
---

#### 2Ô∏è‚É£ Apply the Secret
```bash
kubectl apply -f secret.yml
```
---

#### 3Ô∏è‚É£ View the Secret
```bash
kubectl get secret my-secret -o yaml 
```
```bash
kubectl describe secret my-secret
```
*Note: Secrets are encoded, not encrypted by default‚Äîenable encryption at rest for enhanced security.*

---

### Example: Consuming a Secret in a Pod

#### Pod Manifest (`pod.yml`)
```bash
apiVersion: v1
kind: Pod
metadata:
  name: secret-pod
  labels:
    app: database
spec:
  containers:
  - name: mysql
    image: mysql
    ports:
    - containerPort: 3306
    env:
    - name: MY_SQL_ROOT_PASSWORD
      valueFrom:
        secretKeyRef:
          name: secret-pod
          key: PASSWORD
    - name: MY_USERNAME
      valueFrom:
        secretKeyRef:
          name: secret-pod
          key: PASSWORD    

```

#### Steps
```bash
kubectl apply -f pod.yml
```
```bash
kubectl get pod secret-pod -o yaml
```
```bash
kubectl describe pod secret-pod
```
---

## Revise

- Use **ConfigMaps** for any data/config that isn‚Äôt sensitive.
- Store passwords, tokens, credentials, and secrets in **Secrets**.
- Use RBAC to limit Secret access to only those who need it.
- Never store **secrets directly in pod specs or container images**.

---
