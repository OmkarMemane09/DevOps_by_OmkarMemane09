# ğŸ³ What is a Dockerfile?

A **Dockerfile** is a text file that contains a set of instructions to build a Docker image.  
It defines **how your application and its environment** should be set up inside a container.

---

## âš™ï¸ Key Points

- Each line in a Dockerfile is an **instruction**.
- Docker reads it **top to bottom** to create an image.
- It automates the process of installing dependencies, copying files, and starting your app.

---
| **Instruction** | **Description** | **Example** |
|------------------|------------------|--------------|
| `FROM` | Defines the **base image** for your container. It must be the first instruction in the Dockerfile. | `FROM ubuntu:20.04` |
| `LABEL` | Adds **metadata** (like author, version) to the image. | `LABEL maintainer="omkar@example.com"` |
| `RUN` | Executes commands **during build time** to install packages or set up configurations. | `RUN apt-get update && apt-get install -y python3` |
| `WORKDIR` | Sets the **working directory** for following instructions like `RUN`, `CMD`, `COPY`. | `WORKDIR /app` |
| `COPY` | Copies files/folders from the **host machine** into the containerâ€™s filesystem. | `COPY . /app` |
| `ADD` | Similar to `COPY`, but also supports **URL downloads** and **auto-unpacking** of compressed files. | `ADD app.tar.gz /app` |
| `CMD` | Defines the **default command** to run when the container starts (can be overridden). | `CMD ["python3", "app.py"]` |
| `ENTRYPOINT` | Similar to `CMD`, but the command is **fixed** and cannot be easily overridden. | `ENTRYPOINT ["java", "-jar", "app.jar"]` |
| `EXPOSE` | Informs Docker that the container **listens on specific ports** (for documentation). | `EXPOSE 80` |
| `ENV` | Sets **environment variables** in the container. | `ENV DB_HOST=localhost` |
| `VOLUME` | Creates a **mount point** for external storage or persistent data. | `VOLUME /data` |
| `USER` | Specifies which **user account** to use for running commands. | `USER appuser` |
| `ARG` | Defines **build-time variables** used during the build process. | `ARG version=1.0` |
| `HEALTHCHECK` | Tells Docker how to **test if the container is still working properly**. | `HEALTHCHECK CMD curl -f http://localhost/ || exit 1` |
| `ONBUILD` | Adds **trigger instructions** that run when the image is used as a base for another build. | `ONBUILD COPY . /app` |
---
## ğŸ§± Basic Dockerfile Structure

```bash
FROM <base-image> # Start from an existing image (e.g., python, ubuntu)
WORKDIR /app # Set working directory inside the container
COPY . /app # Copy project files into the container
RUN <commands> # Install dependencies or run setup steps
EXPOSE <port> # Inform which port the app will use
CMD ["<command>", "<arg>"] # Command to run when the container starts

---

## ğŸ’¡ Example

FROM python:3.9-slim
WORKDIR /app
COPY app.py /app
RUN pip install flask
EXPOSE 5000
CMD ["python", "app.py"]
âœ… This builds a Python image that runs a Flask(flask is library which supports web seerver) web app on port 5000.
```
---



# ğŸ³ Dockerfile Workflow (General Structure)

1ï¸âƒ£ **Create Project Folder**
   - Store your source code and Dockerfile together.

2ï¸âƒ£ **Write Dockerfile**
```bash
FROM <base-image>
WORKDIR <directory>
COPY <files> <destination>
RUN <install or setup commands>
EXPOSE <port>
CMD ["<command>", "<args>"]
```

3ï¸âƒ£ **Build Image**
```bash
docker build -t <image-name> .
```

4ï¸âƒ£ Run Container
```bash
docker run -d -p <host-port>:<container-port> --name <cont-name> <image-name>
```
5ï¸âƒ£ Access Application
```bash
Open in browser or terminal depending on what the container runs.
```
# ğŸ³ Dockerfiles for  â€” MySQL | Java | Python | Apache

This document shows the **folder structure**, **Dockerfiles**, and **workflow steps**  
for four different Docker-based applications.

---

## ğŸ—‚ï¸ 1ï¸âƒ£ MySQL Docker Setup

### ğŸ“ Folder Structure
```bash
mysql-docker/
â”‚
â”œâ”€â”€ Dockerfile
â””â”€â”€ init.sql # (optional) file to initialize database
```

### ğŸ§± Dockerfile
```dockerfile
FROM mysql:8.0
ENV MYSQL_ROOT_PASSWORD=root
ENV MYSQL_DATABASE=mydb
COPY init.sql /docker-entrypoint-initdb.d/
EXPOSE 3306
```
âš™ï¸ Workflow
### Build image
docker build -t mysql-custom .

### Run container
docker run -d --name mysql-container -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 mysql-custom

### Access MySQL inside container
docker exec -it mysql-container mysql -uroot -proot

### (Optional) Copy data from container to host
docker cp mysql-container:/var/lib/mysql ./mysql_backup
## â˜• 2ï¸âƒ£ Java Web Server Docker Setup
ğŸ“ Folder Structure
```bash
java-web/
â”‚
â”œâ”€â”€ Dockerfile
â””â”€â”€ SimpleServer.java
```
ğŸ§± Dockerfile
```bash
FROM eclipse-temurin:17-jdk-alpine
WORKDIR /app
COPY SimpleServer.java /app
RUN javac SimpleServer.java
EXPOSE 8080
CMD ["java", "SimpleServer"]
```
âš™ï¸ Workflow
### Build image
docker build -t java-web .

### Run container
docker run -d -p 8080:8080 java-web

### Access in browser
http://<your-ip>:8080

## ğŸ 3ï¸âƒ£ Python Flask App Docker Setup
ğŸ“ Folder Structure
```bash
python-web/
â”‚
â”œâ”€â”€ Dockerfile
â””â”€â”€ app.py
```
ğŸ§± Dockerfile
```bash
FROM python:3.9-slim
WORKDIR /app
COPY app.py /app
RUN pip install flask
EXPOSE 5000
CMD ["python", "app.py"]
```
âš™ï¸ Workflow
### Build image
docker build -t python-web .

### Run container
docker run -d -p 5000:5000 python-web

### Access in browser
http://<your-ip>:5000

## ğŸŒ 4ï¸âƒ£ Apache Web Server Docker Setup
ğŸ“ Folder Structure
```bash
apache-web/
â”‚
â”œâ”€â”€ Dockerfile
â””â”€â”€ index.html
```

ğŸ§± Dockerfile
```bash
FROM httpd:2.4
WORKDIR /usr/local/apache2/htdocs/
COPY index.html .
EXPOSE 80
```
âš™ï¸ Workflow
### Build image
docker build -t apache-web .

### Run container
docker run -d -p 80:80 apache-web

### Access in browser
http://<your-ip>:80
